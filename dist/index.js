"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);exports.Thedock=function({configuration:e,ar:r,textstyles:s,marginForText:o,showText:a,texts:i,style:c,iconWidth:l,maxBoxes:d,containerHeight:u,setpercentage:m,percentage:h,containerWidth:f,iconstyles:p,icons:g,startingPosition:y}){const[x,b]=t.useState(0),[E,S]=t.useState(["start, start"]),[T,k]=t.useState([]);let _=!1;const v=(t,e,n)=>{e<=0||t<0||(e-2*t>=0&&0!==t?(n.unshift(t),n.push(t),_=1==t,v(t-1,e-2*t)):t>1?v(t-1,e):_?n[0]++:n.unshift(t))},j={main:{width:f,borderRadius:20,marginLeft:1,height:x,display:"grid",alignItems:E[0],justifyItems:E[1],backdropFilter:"blur(4px)"},box:{position:"absolute",transition:"0.1s",display:"grid",justifyItems:"center",alignItems:"center"}};return n.default.useEffect((()=>{1.1==h?setTimeout((()=>{m(.9)}),100):.9==h?setTimeout((()=>{m(1.05)}),100):1.05==h?setTimeout((()=>{m(.95)}),100):.95==h&&setTimeout((()=>{m(1)}),100)}),[h]),n.default.useEffect((()=>{let t=void 0!==e?e:[d];!e&&d&&v(d-1,g.length-d,t);let c=(t=>{let e=t.map((t=>t));return e.sort(((t,e)=>t-e)),e[e.length-1]})(t),u=document.querySelector(".thedock_container").clientWidth,m=u/c,h=r.split("/"),f=h[1]/h[0]*m+(o=a?o:0),x=f*t.length,E=document.querySelector(".thedock_container").offsetLeft,T=document.querySelector(".thedock_container").offsetTop,_=[];((t,e,n,r,s,o,a,i)=>{t.forEach(((t,i)=>{let c=a+(o-t*s)/2;for(let o=0;o<t;o++){let t=[];t.push(c+s/2+o*s),t.push(e+r/2+i*r),n.push(t)}}))})(t,T,_,f,m,u,E);const[q,w,I,W]=((t,e,n,r,s)=>{let o=[],a=[],i=0,c=0;return"top-left"===t?(o=[e+0,n+0],a=["start","start"],i=-1,c=-1):"top-center"===t?(o=[e+r/2,n+0],a=["start","center"],c=-1):"top-right"===t?(o=[e+r,n+0],a=["start","end"],c=-1,i=1):"middle-left"===t?(o=[e+0,n+s/2],a=["center","start"],i=-1):"middle-center"===t?(o=[e+r/2,n+s/2],a=["center","center"]):"middle-right"===t?(o=[e+r,n+s/2],a=["center","end"],i=1):"bottom-left"===t?(o=[e+0,n+s],a=["end","start"],i=-1,c=1):"bottom-center"===t?(o=[e+r/2,n+s],a=["end","center"],c=1):"bottom-right"===t&&(o=[e+r,n+s],a=["end","end"],i=1,c=1),[o,a,i,c]})(y,E,T,u,x);let M=g.map(((t,e)=>{let o=_[e],c=q,d=[o[0]-c[0],o[1]-c[1]];return d[0]=Math.round(d[0]+I*m/2),d[1]=Math.round(d[1]+W*f/2),{Cmpnt:({transStyles:e,text:o})=>n.default.createElement("div",{className:"box",style:{...e,...j.box,height:f,width:m}},n.default.createElement("img",{className:"thedock_icon",style:{...j.icon,aspectRatio:r,width:m,maxWidth:"auto"===l?"auto":l-0,height:"auto",...p},src:t}),a?n.default.createElement("p",{style:{...s}},o):""),destiny:d,text:a?i[e]:""}}));S(w),k(M),b(x)}),[e,d,f,g,y,u]),n.default.createElement("div",{style:{...j.main,...c},className:"thedock_container"},T.map((({Cmpnt:t,destiny:e,text:r})=>n.default.createElement(t,{transStyles:{transform:`translate(${e[0]*h}px, ${e[1]*h}px)`},text:r}))))};
